<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Topaz: Hardware</title>
<link rel="icon" href="tz.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="tz.png"/></td>
  <td id="projectalign">
   <div id="projectname">Topaz<span id="projectnumber">&#160;5.0</span>
   </div>
   <div id="projectbrief">Topaz Game Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle"><div class="title">Hardware<div class="ingroups"><a class="el" href="group__tz.html">API Reference</a> &raquo; <a class="el" href="group__tz__gpu.html">GPU Library</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Documentation specialised for iterating over rendering hardware and selecting one to be used for rendering. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtz_1_1gpu_1_1hardware.html">tz::gpu::hardware</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains some basic information about a particular piece of hardware on the machine that the driver thinks could do GPU work.  <a href="structtz_1_1gpu_1_1hardware.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4ca647b6b2a4c26ded590bd85f6f9594" name="ga4ca647b6b2a4c26ded590bd85f6f9594"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4ca647b6b2a4c26ded590bd85f6f9594">&#9670;&#160;</a></span>iterate_hardware()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">error_code</a> tz::gpu::iterate_hardware </td>
          <td>(</td>
          <td class="paramtype">std::span&lt; <a class="el" href="structtz_1_1gpu_1_1hardware.html">hardware</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>hardwares</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t *</td>          <td class="paramname"><span class="paramname"><em>hardware_count</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve information about all detected rendering hardware currently available on the machine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hardwares</td><td>A region of memory through which hardware information shall be written to. As many hardware components as possible will be written, until all hardware has been listed or the region does not have enough available space. </td></tr>
    <tr><td class="paramname">hardware_count</td><td>A pointer to a value which (if not-null) will be updated with the total number of rendering hardware components available on the machine. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- <a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afadbc8e69c50db1193ec71151b6fb6da9a">error_code::partial_success</a> If the span of hardwares provides is not large enough to store all hardwares on the machine. </dd>
<dd>
- <a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa71090755058a73a39e036d014dd51432">error_code::precondition_failure</a> If Topaz has not yet been initialised via <a class="el" href="group__tz.html#gabb648fc6eec063059f5e7ccf1f1d8fa7">tz::initialise</a>. </dd>
<dd>
- <a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa4e44c97a51e5519cd277f335de285ead">error_code::unknown_error</a> If some other error occurs.</dd></dl>
<p>If you aren't interested in choosing a hardware yourself, and are happy to let Topaz figure out the best for you, use <a class="el" href="#gacc14c0fcc44014aaac7ee454bc6678d1">find_best_hardware</a> instead of this.</p>
<p>You should use this function if you:</p><ul>
<li>Want to examine all hardware available on the machine.</li>
<li>Know what you're doing and have a very specific set of requirements for your application, so much so that you cannot trust Topaz to give you the ideal result via <a class="el" href="#gacc14c0fcc44014aaac7ee454bc6678d1">find_best_hardware</a>. </li>
</ul>

</div>
</div>
<a id="gacc14c0fcc44014aaac7ee454bc6678d1" name="gacc14c0fcc44014aaac7ee454bc6678d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacc14c0fcc44014aaac7ee454bc6678d1">&#9670;&#160;</a></span>find_best_hardware()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtz_1_1gpu_1_1hardware.html">hardware</a> tz::gpu::find_best_hardware </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the "best" hardware hardware on your machine. </p>
<p>This function prefers desktop GPUs that handle compute/graphics/transfer on the same queue.</p>
<p>If you want more control over which hardware is used, or you don't trust Topaz's opinion, consider calling <a class="el" href="#ga4ca647b6b2a4c26ded590bd85f6f9594">iterate_hardware</a> and choosing one yourself.</p>
<p>Unlike <a class="el" href="#ga4ca647b6b2a4c26ded590bd85f6f9594">iterate_hardware</a>, any error that the driver reports is considered fatal and will emit a <a class="el" href="group__tz.html#ga75d6dcf834e5d38fbe76f54acb6ca1c6">tz_error</a>. </p>

</div>
</div>
<a id="gae0b031c00ca531bea031cf25332ae8ae" name="gae0b031c00ca531bea031cf25332ae8ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0b031c00ca531bea031cf25332ae8ae">&#9670;&#160;</a></span>use_hardware()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">error_code</a> tz::gpu::use_hardware </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtz_1_1gpu_1_1hardware.html">hardware</a></td>          <td class="paramname"><span class="paramname"><em>hw</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select a piece of hardware to use for future graphical operations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hw</td><td>A hardware component of your choice that you wish to use to perform some GPU work.</td></tr>
  </table>
  </dd>
</dl>
<p>You must select a piece of hardware using this API call before attempting to submit any GPU work. There is no default hardware selection.</p>
<dl class="section note"><dt>Note</dt><dd>All previous tz::gpu state will be invalidated if you use a new piece of hardware. It is recommended to select your hardware once after <a class="el" href="group__tz.html#gabb648fc6eec063059f5e7ccf1f1d8fa7">tz::initialise</a>, use it with this function and never attempt to use other hardware. </dd></dl>

</div>
</div>
<a id="ga43bc20f0d8e004c82906519cfc8a957b" name="ga43bc20f0d8e004c82906519cfc8a957b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga43bc20f0d8e004c82906519cfc8a957b">&#9670;&#160;</a></span>get_used_hardware()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtz_1_1gpu_1_1hardware.html">hardware</a> tz::gpu::get_used_hardware </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the hardware that's currently being used. </p>
<p><br  />
 </p>
<p>This will return the hardware selected in a previous call to <a class="el" href="#gae0b031c00ca531bea031cf25332ae8ae">use_hardware</a>. If you have never selected a hardware component by calling this previous function, this function will emit a <a class="el" href="group__tz.html#ga75d6dcf834e5d38fbe76f54acb6ca1c6">tz_error</a>. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaa1e78cd65e2d10e324243cc2d6030f5c" name="gaa1e78cd65e2d10e324243cc2d6030f5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa1e78cd65e2d10e324243cc2d6030f5c">&#9670;&#160;</a></span>hardware_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="#gaa1e78cd65e2d10e324243cc2d6030f5c">tz::gpu::hardware_type</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel strong">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Describes a specific type of rendering hardware. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaa1e78cd65e2d10e324243cc2d6030f5ca0aa0be2a866411d9ff03515227454947" name="ggaa1e78cd65e2d10e324243cc2d6030f5ca0aa0be2a866411d9ff03515227454947"></a>gpu&#160;</td><td class="fielddoc"><p>A discrete GPU, the most ideal hardware for graphics/compute. Typically seen on desktop PCs. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa1e78cd65e2d10e324243cc2d6030f5ca5f39c2e1d71801c8581f62cb087abedd" name="ggaa1e78cd65e2d10e324243cc2d6030f5ca5f39c2e1d71801c8581f62cb087abedd"></a>integrated_gpu&#160;</td><td class="fielddoc"><p>An integrated GPU, typically seen on laptops. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa1e78cd65e2d10e324243cc2d6030f5cad9747e2da342bdb995f6389533ad1a3d" name="ggaa1e78cd65e2d10e324243cc2d6030f5cad9747e2da342bdb995f6389533ad1a3d"></a>cpu&#160;</td><td class="fielddoc"><p>A CPU. One should expect subpar performance, but there may be reasons to use a CPU. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa1e78cd65e2d10e324243cc2d6030f5caad921d60486366258809553a3db49a4a" name="ggaa1e78cd65e2d10e324243cc2d6030f5caad921d60486366258809553a3db49a4a"></a>unknown&#160;</td><td class="fielddoc"><p>Your graphics driver failed to identify the hardware, or Topaz does not support whatever it is. You should not attempt to create a hardware using this hardware. </p>
</td></tr>
</table>

</div>
</div>
<a id="gab2036c965f55d5a07205fa4fd2120e9c" name="gab2036c965f55d5a07205fa4fd2120e9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab2036c965f55d5a07205fa4fd2120e9c">&#9670;&#160;</a></span>hardware_capabilities</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="#gab2036c965f55d5a07205fa4fd2120e9c">tz::gpu::hardware_capabilities</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel strong">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Describes what kind of GPU operations a rendering hardware can carry out when used. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggab2036c965f55d5a07205fa4fd2120e9cac84da432dd3c53e172ed93ab600333ec" name="ggab2036c965f55d5a07205fa4fd2120e9cac84da432dd3c53e172ed93ab600333ec"></a>graphics_compute&#160;</td><td class="fielddoc"><p>Both graphics and compute. These are always preferred. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab2036c965f55d5a07205fa4fd2120e9ca012854df7733dee95e1733ce9341c71c" name="ggab2036c965f55d5a07205fa4fd2120e9ca012854df7733dee95e1733ce9341c71c"></a>graphics_only&#160;</td><td class="fielddoc"><p>Graphics only. Attempting to carry out compute work on this hardware will fail. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab2036c965f55d5a07205fa4fd2120e9cac503e1b23ae78f344e72b44606f5dfc6" name="ggab2036c965f55d5a07205fa4fd2120e9cac503e1b23ae78f344e72b44606f5dfc6"></a>compute_only&#160;</td><td class="fielddoc"><p>Compute only. Attempting to carry out graphics work (rasterisation) on this hardware will fail. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab2036c965f55d5a07205fa4fd2120e9caedab649646a4c3ebd9770bdfc29534b5" name="ggab2036c965f55d5a07205fa4fd2120e9caedab649646a4c3ebd9770bdfc29534b5"></a>neither&#160;</td><td class="fielddoc"><p>The hardware is useless for Topaz. You should not attempt to create a hardware using this hardware. </p>
</td></tr>
</table>

</div>
</div>
<a id="gaa093da436bceb04380b7a9943206cb7d" name="gaa093da436bceb04380b7a9943206cb7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa093da436bceb04380b7a9943206cb7d">&#9670;&#160;</a></span>hardware_feature_coverage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="#gaa093da436bceb04380b7a9943206cb7d">tz::gpu::hardware_feature_coverage</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel strong">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Describes to what extent the rendering hardware supports all the features that Topaz requires. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaa093da436bceb04380b7a9943206cb7dab3bfb5ad6ba04daf0f8f1930133d89dd" name="ggaa093da436bceb04380b7a9943206cb7dab3bfb5ad6ba04daf0f8f1930133d89dd"></a>ideal&#160;</td><td class="fielddoc"><p>The hardware supports everything Topaz needs to do to support all <a class="el" href="group__tz__gpu.html">GPU Library</a> features. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa093da436bceb04380b7a9943206cb7da0db1288fd85f292651522538c9c2cade" name="ggaa093da436bceb04380b7a9943206cb7da0db1288fd85f292651522538c9c2cade"></a>insufficient&#160;</td><td class="fielddoc"><p>The hardware does not support all features, and as such could crash. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa093da436bceb04380b7a9943206cb7da5cffaf9375c0ef1d49451b062abdac80" name="ggaa093da436bceb04380b7a9943206cb7da5cffaf9375c0ef1d49451b062abdac80"></a>poor&#160;</td><td class="fielddoc"><p>The hardware does not come close to supporting all required features, and as such should not be attempted to be used. </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
