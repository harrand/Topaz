<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Topaz: Lua Scripting</title>
<link rel="icon" href="tz.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="tz.png"/></td>
  <td id="projectalign">
   <div id="projectname">Topaz<span id="projectnumber">&#160;5.0</span>
   </div>
   <div id="projectbrief">Topaz Game Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle"><div class="title">Lua Scripting<div class="ingroups"><a class="el" href="group__tz.html">API Reference</a> &raquo; <a class="el" href="group__tz__core.html">Core Libraries</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Execute lightweight lua code within the engine. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga1a434bd52c6f495483eff037dabc7496" id="r_ga1a434bd52c6f495483eff037dabc7496"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1a434bd52c6f495483eff037dabc7496">tz::lua_fn</a> = int(*)()</td></tr>
<tr class="memdesc:ga1a434bd52c6f495483eff037dabc7496"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the signature for a function that can be called from lua.  <br /></td></tr>
<tr class="separator:ga1a434bd52c6f495483eff037dabc7496"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga6c0aee737d908980c5e48ce46e36061d" name="ga6c0aee737d908980c5e48ce46e36061d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c0aee737d908980c5e48ce46e36061d">&#9670;&#160;</a></span>lua_execute_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> tz::lua_execute_file </td>
          <td>(</td>
          <td class="paramtype">std::filesystem::path</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to execute a local lua file on the current thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path to a local file containing lua code.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa71090755058a73a39e036d014dd51432">tz::error_code::precondition_failure</a> If the provided path was invalid. </dd>
<dd>
<a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa4e44c97a51e5519cd277f335de285ead">tz::error_code::unknown_error</a> If the executed code caused an error. </dd></dl>

</div>
</div>
<a id="gad81e6021d56728ae59cba1ad79c5c6f6" name="gad81e6021d56728ae59cba1ad79c5c6f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad81e6021d56728ae59cba1ad79c5c6f6">&#9670;&#160;</a></span>lua_execute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> tz::lua_execute </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>lua_src</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to execute some lua code on the current thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lua_src</td><td>String containing lua code to execute.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa4e44c97a51e5519cd277f335de285ead">tz::error_code::unknown_error</a> If the executed code caused an error. </dd></dl>

</div>
</div>
<a id="gafb9864da832c886af307326d65a19dcc" name="gafb9864da832c886af307326d65a19dcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb9864da832c886af307326d65a19dcc">&#9670;&#160;</a></span>lua_set_nil()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> tz::lua_set_nil </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>varname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a variable in lua to be nil. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">varname</td><td>Name of the variable to set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa4e44c97a51e5519cd277f335de285ead">tz::error_code::unknown_error</a> If an error occurred. </dd></dl>

</div>
</div>
<a id="ga7c8a55fe1e49670b32fdb24d7a770f16" name="ga7c8a55fe1e49670b32fdb24d7a770f16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7c8a55fe1e49670b32fdb24d7a770f16">&#9670;&#160;</a></span>lua_set_emptytable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> tz::lua_set_emptytable </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>varname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a variable in lua to be the empty table "{}". </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">varname</td><td>Name of the variable to set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa4e44c97a51e5519cd277f335de285ead">tz::error_code::unknown_error</a> If an error occurred. </dd></dl>

</div>
</div>
<a id="gae190dfb486310b8d685e6afefa46b7fe" name="gae190dfb486310b8d685e6afefa46b7fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae190dfb486310b8d685e6afefa46b7fe">&#9670;&#160;</a></span>lua_set_bool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> tz::lua_set_bool </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>varname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>v</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a variable in lua to a new bool value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">varname</td><td>Name of the variable to set. </td></tr>
    <tr><td class="paramname">v</td><td>Value to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa4e44c97a51e5519cd277f335de285ead">tz::error_code::unknown_error</a> If an error occurred. </dd></dl>

</div>
</div>
<a id="gae81e455354af393223b6b7be1823bf21" name="gae81e455354af393223b6b7be1823bf21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae81e455354af393223b6b7be1823bf21">&#9670;&#160;</a></span>lua_set_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> tz::lua_set_int </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>varname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::int64_t</td>          <td class="paramname"><span class="paramname"><em>v</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a variable in lua to a new int value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">varname</td><td>Name of the variable to set. </td></tr>
    <tr><td class="paramname">v</td><td>Value to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa4e44c97a51e5519cd277f335de285ead">tz::error_code::unknown_error</a> If an error occurred. </dd></dl>

</div>
</div>
<a id="ga931e7ab7b099f88a32ea7639661f32f1" name="ga931e7ab7b099f88a32ea7639661f32f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga931e7ab7b099f88a32ea7639661f32f1">&#9670;&#160;</a></span>lua_set_number()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> tz::lua_set_number </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>varname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>v</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a variable in lua to a new number value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">varname</td><td>Name of the variable to set. </td></tr>
    <tr><td class="paramname">v</td><td>Value to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa4e44c97a51e5519cd277f335de285ead">tz::error_code::unknown_error</a> If an error occurred. </dd></dl>

</div>
</div>
<a id="gaa6a6565752d4b502eb7b2052b4f80d2f" name="gaa6a6565752d4b502eb7b2052b4f80d2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa6a6565752d4b502eb7b2052b4f80d2f">&#9670;&#160;</a></span>lua_set_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> tz::lua_set_string </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>varname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>str</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a variable in lua to a new string value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">varname</td><td>Name of the variable to set. </td></tr>
    <tr><td class="paramname">str</td><td>Value to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa4e44c97a51e5519cd277f335de285ead">tz::error_code::unknown_error</a> If an error occurred. </dd></dl>

</div>
</div>
<a id="ga8b6b4f58bfe41f8167c9f8fa20b5a1bf" name="ga8b6b4f58bfe41f8167c9f8fa20b5a1bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8b6b4f58bfe41f8167c9f8fa20b5a1bf">&#9670;&#160;</a></span>lua_define_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> tz::lua_define_function </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>varname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga1a434bd52c6f495483eff037dabc7496">lua_fn</a></td>          <td class="paramname"><span class="paramname"><em>fn</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define a new function in lua. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">varname</td><td>Name of the function when called in lua code. </td></tr>
    <tr><td class="paramname">fn</td><td>Pointer to an existing function to expose to lua. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa4e44c97a51e5519cd277f335de285ead">tz::error_code::unknown_error</a> If an error occurred. </dd></dl>

</div>
</div>
<a id="ga9dd277f5adf490fa5cad849602ac36d6" name="ga9dd277f5adf490fa5cad849602ac36d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9dd277f5adf490fa5cad849602ac36d6">&#9670;&#160;</a></span>lua_get_bool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::expected&lt; bool, <a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> &gt; tz::lua_get_bool </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>varname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the value of a bool variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">varname</td><td>Name of the variable to retrieve. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa71090755058a73a39e036d014dd51432">tz::error_code::precondition_failure</a> If such a variable does not exist, or does not match the type you requested. </dd></dl>

</div>
</div>
<a id="gadcf0e8adfd1c4048d50afa2dae8c0626" name="gadcf0e8adfd1c4048d50afa2dae8c0626"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadcf0e8adfd1c4048d50afa2dae8c0626">&#9670;&#160;</a></span>lua_get_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::expected&lt; std::int64_t, <a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> &gt; tz::lua_get_int </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>varname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the value of a int variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">varname</td><td>Name of the variable to retrieve. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa71090755058a73a39e036d014dd51432">tz::error_code::precondition_failure</a> If such a variable does not exist, or does not match the type you requested. </dd></dl>

</div>
</div>
<a id="gaaa36881506397bb704e1e714067f3ed2" name="gaaa36881506397bb704e1e714067f3ed2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa36881506397bb704e1e714067f3ed2">&#9670;&#160;</a></span>lua_get_number()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::expected&lt; double, <a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> &gt; tz::lua_get_number </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>varname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the value of a number variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">varname</td><td>Name of the variable to retrieve. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa71090755058a73a39e036d014dd51432">tz::error_code::precondition_failure</a> If such a variable does not exist, or does not match the type you requested. </dd></dl>

</div>
</div>
<a id="ga5e55a4178239919bfb9f8d503c15bf1c" name="ga5e55a4178239919bfb9f8d503c15bf1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e55a4178239919bfb9f8d503c15bf1c">&#9670;&#160;</a></span>lua_get_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::expected&lt; std::string, <a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> &gt; tz::lua_get_string </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>varname</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the value of a string variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">varname</td><td>Name of the variable to retrieve. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa71090755058a73a39e036d014dd51432">tz::error_code::precondition_failure</a> If such a variable does not exist, or does not match the type you requested. </dd></dl>

</div>
</div>
<a id="ga57b6260b6644d3603be7e99d0ce0e40d" name="ga57b6260b6644d3603be7e99d0ce0e40d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga57b6260b6644d3603be7e99d0ce0e40d">&#9670;&#160;</a></span>lua_stack_get_bool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::expected&lt; bool, <a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> &gt; tz::lua_stack_get_bool </td>
          <td>(</td>
          <td class="paramtype">std::size_t</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a bool from the stack at the given index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Position on the stack to retrieve. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa71090755058a73a39e036d014dd51432">tz::error_code::precondition_failure</a> If the stack is too small, or the value at the position you specifies does not match the type you asked for. </dd></dl>

</div>
</div>
<a id="ga5f8fac3fe2babf77ebdea0d3d39efdac" name="ga5f8fac3fe2babf77ebdea0d3d39efdac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5f8fac3fe2babf77ebdea0d3d39efdac">&#9670;&#160;</a></span>lua_stack_get_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::expected&lt; std::int64_t, <a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> &gt; tz::lua_stack_get_int </td>
          <td>(</td>
          <td class="paramtype">std::size_t</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a int from the stack at the given index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Position on the stack to retrieve. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa71090755058a73a39e036d014dd51432">tz::error_code::precondition_failure</a> If the stack is too small, or the value at the position you specifies does not match the type you asked for. </dd></dl>

</div>
</div>
<a id="ga979fda85364da92b05a51c33e068168b" name="ga979fda85364da92b05a51c33e068168b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga979fda85364da92b05a51c33e068168b">&#9670;&#160;</a></span>lua_stack_get_number()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::expected&lt; double, <a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> &gt; tz::lua_stack_get_number </td>
          <td>(</td>
          <td class="paramtype">std::size_t</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a number from the stack at the given index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Position on the stack to retrieve. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa71090755058a73a39e036d014dd51432">tz::error_code::precondition_failure</a> If the stack is too small, or the value at the position you specifies does not match the type you asked for. </dd></dl>

</div>
</div>
<a id="ga16076cbaed10324eb0de1a041784a4c1" name="ga16076cbaed10324eb0de1a041784a4c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga16076cbaed10324eb0de1a041784a4c1">&#9670;&#160;</a></span>lua_stack_get_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::expected&lt; std::string, <a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> &gt; tz::lua_stack_get_string </td>
          <td>(</td>
          <td class="paramtype">std::size_t</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a string from the stack at the given index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Position on the stack to retrieve. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa71090755058a73a39e036d014dd51432">tz::error_code::precondition_failure</a> If the stack is too small, or the value at the position you specifies does not match the type you asked for. </dd></dl>

</div>
</div>
<a id="ga39c856674650db02cb11fce4cb4d3a50" name="ga39c856674650db02cb11fce4cb4d3a50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39c856674650db02cb11fce4cb4d3a50">&#9670;&#160;</a></span>lua_push_nil()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tz::lua_push_nil </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push a nil value onto the stack. </p>

</div>
</div>
<a id="ga8479efdd62c2966fc1b17b1cb8ca27cc" name="ga8479efdd62c2966fc1b17b1cb8ca27cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8479efdd62c2966fc1b17b1cb8ca27cc">&#9670;&#160;</a></span>lua_push_bool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tz::lua_push_bool </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>v</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push a bool value onto the stack. </p>

</div>
</div>
<a id="gaff3974156b12c2545077c62fe0ae5ac5" name="gaff3974156b12c2545077c62fe0ae5ac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff3974156b12c2545077c62fe0ae5ac5">&#9670;&#160;</a></span>lua_push_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tz::lua_push_int </td>
          <td>(</td>
          <td class="paramtype">std::int64_t</td>          <td class="paramname"><span class="paramname"><em>v</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push an int value onto the stack. </p>

</div>
</div>
<a id="ga34a1412c408e8c1213bc2e2bed6ffbdd" name="ga34a1412c408e8c1213bc2e2bed6ffbdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga34a1412c408e8c1213bc2e2bed6ffbdd">&#9670;&#160;</a></span>lua_push_number()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tz::lua_push_number </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>v</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push a number value onto the stack. </p>

</div>
</div>
<a id="ga6f0e981d3aa3f49027230db79d3d27bf" name="ga6f0e981d3aa3f49027230db79d3d27bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6f0e981d3aa3f49027230db79d3d27bf">&#9670;&#160;</a></span>lua_push_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tz::lua_push_string </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>v</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push a string value onto the stack. </p>

</div>
</div>
<a id="gaad4130c9556207e3cc9c8eef8878fad8" name="gaad4130c9556207e3cc9c8eef8878fad8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad4130c9556207e3cc9c8eef8878fad8">&#9670;&#160;</a></span>lua_stack_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t tz::lua_stack_size </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the number of values on the stack currently. </p>

</div>
</div>
<a id="gaeda86ae367f8b19ae4be83d41badb259" name="gaeda86ae367f8b19ae4be83d41badb259"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeda86ae367f8b19ae4be83d41badb259">&#9670;&#160;</a></span>lua_debug_callstack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string tz::lua_debug_callstack </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retreieve a string describing the lua callstack right now. </p>
<p>This might be useful for debugging purposes. </p>

</div>
</div>
<a id="ga44fee8d86a94d615667f622a67bbfd92" name="ga44fee8d86a94d615667f622a67bbfd92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga44fee8d86a94d615667f622a67bbfd92">&#9670;&#160;</a></span>lua_debug_stack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string tz::lua_debug_stack </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retreieve a string describing the entire lua stack right now. </p>
<p>This might be useful for debugging purposes. </p>

</div>
</div>
<a id="gab698d1657c518e0ce5949a0ebf15ee03" name="gab698d1657c518e0ce5949a0ebf15ee03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab698d1657c518e0ce5949a0ebf15ee03">&#9670;&#160;</a></span>lua_parse_args()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Ts&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt; Ts... &gt; tz::lua_parse_args </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retreve a set of arguments from the stack. </p>
<dl class="section pre"><dt>Precondition</dt><dd>The values on the top of the stack must perfectly correspond to the type parameters you pass in, otherwise a runtime error will occur. You are recommended to use this in your own <a class="el" href="#ga1a434bd52c6f495483eff037dabc7496">lua_fn</a> functions that you expose to lua via <a class="el" href="#ga8b6b4f58bfe41f8167c9f8fa20b5a1bf">lua_define_function</a>. </dd></dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga1a434bd52c6f495483eff037dabc7496" name="ga1a434bd52c6f495483eff037dabc7496"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a434bd52c6f495483eff037dabc7496">&#9670;&#160;</a></span>lua_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#ga1a434bd52c6f495483eff037dabc7496">tz::lua_fn</a> = int(*)()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Represents the signature for a function that can be called from lua. </p>
<p>You might be expecting <code>int(lua_State*)</code> if you're used to using Lua directly. However, lua headers are not available to you, so this is the only signature you will worry about. Like in default lua, the return value of any lua function represents how many values you have returned (put onto the stack). To retrieve an argument in a lua function, you can either:</p><ul>
<li>Call <a class="el" href="#ga57b6260b6644d3603be7e99d0ce0e40d">lua_stack_get_bool</a> or similar. This is useful if you conditionally need only a particular argument.</li>
<li>Call <a class="el" href="#gab698d1657c518e0ce5949a0ebf15ee03">lua_parse_args</a> to retrieve all the arguments of your function at once. This is recommended for most use-cases.</li>
</ul>
<p>Example: C function callable in lua: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> fnimpl()</div>
<div class="line">{</div>
<div class="line">     <span class="keyword">auto</span> [arg1, arg2] = <a class="code hl_function" href="#gab698d1657c518e0ce5949a0ebf15ee03">tz::lua_parse_args&lt;int, std::string&gt;</a>();</div>
<div class="line">     <a class="code hl_function" href="#gaff3974156b12c2545077c62fe0ae5ac5">lua_push_int</a>(arg1 * 2);</div>
<div class="line">     <a class="code hl_function" href="#ga6f0e981d3aa3f49027230db79d3d27bf">lua_push_string</a>(arg2 + <span class="stringliteral">&quot; is cool&quot;</span>);</div>
<div class="line">     <span class="keywordflow">return</span> 2;</div>
<div class="line">}</div>
<div class="line"><span class="comment">// In your application initialisation code:</span></div>
<div class="line"><a class="code hl_function" href="#ga8b6b4f58bfe41f8167c9f8fa20b5a1bf">tz::lua_define_function</a>(<span class="stringliteral">&quot;my_cool_function&quot;</span>, fnimpl);</div>
<div class="ttc" id="agroup__tz__core__lua_html_ga6f0e981d3aa3f49027230db79d3d27bf"><div class="ttname"><a href="#ga6f0e981d3aa3f49027230db79d3d27bf">tz::lua_push_string</a></div><div class="ttdeci">void lua_push_string(std::string v)</div><div class="ttdoc">Push a string value onto the stack.</div></div>
<div class="ttc" id="agroup__tz__core__lua_html_ga8b6b4f58bfe41f8167c9f8fa20b5a1bf"><div class="ttname"><a href="#ga8b6b4f58bfe41f8167c9f8fa20b5a1bf">tz::lua_define_function</a></div><div class="ttdeci">tz::error_code lua_define_function(std::string_view varname, lua_fn fn)</div><div class="ttdoc">Define a new function in lua.</div></div>
<div class="ttc" id="agroup__tz__core__lua_html_gab698d1657c518e0ce5949a0ebf15ee03"><div class="ttname"><a href="#gab698d1657c518e0ce5949a0ebf15ee03">tz::lua_parse_args</a></div><div class="ttdeci">std::tuple&lt; Ts... &gt; lua_parse_args()</div><div class="ttdoc">Retreve a set of arguments from the stack.</div><div class="ttdef"><b>Definition</b> lua.hpp:259</div></div>
<div class="ttc" id="agroup__tz__core__lua_html_gaff3974156b12c2545077c62fe0ae5ac5"><div class="ttname"><a href="#gaff3974156b12c2545077c62fe0ae5ac5">tz::lua_push_int</a></div><div class="ttdeci">void lua_push_int(std::int64_t v)</div><div class="ttdoc">Push an int value onto the stack.</div></div>
</div><!-- fragment --><p> In your lua code: </p><div class="fragment"><div class="line">ret1, ret2 = my_cool_function(123, &quot;Bob&quot; .. &quot; Marley&quot;)</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
