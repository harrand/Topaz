shader(type = fragment);

input(id = 0) vec3 tint;
input(id = 1) vec2 uv;
input(id = 2, flat) uint texture_id;
input(id = 3, flat) uint alpha_clipping;
output(id = 0) vec4 colour;

void main()
{
	//colour = vec4(1.0f, 0.0f, 1.0f, 1.0f);
	vec3 frag_colour = tint;
	if(texture_id != -1)
	{
		vec4 texcol = sample(texture_id, uv);
		if(alpha_clipping == 1 && texcol.a < 0.05f)
		{
			discard;
		}
		frag_colour *= texcol.xyz;
	}

	colour = vec4(frag_colour, 1.0f);
}