<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Topaz: Shaders</title>
<link rel="icon" href="tz.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="tz.png"/></td>
  <td id="projectalign">
   <div id="projectname">Topaz<span id="projectnumber">&#160;5.0</span>
   </div>
   <div id="projectbrief">Topaz Game Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle"><div class="title">Shaders<div class="ingroups"><a class="el" href="group__tz.html">API Reference</a> &raquo; <a class="el" href="group__tz__gpu.html">GPU Library</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Create shaders to carry out programmable GPU work. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga411f2448d8c9380bac7e894918227f4f" id="r_ga411f2448d8c9380bac7e894918227f4f"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga411f2448d8c9380bac7e894918227f4f">tz::gpu::shader_handle</a> = <a class="el" href="classtz_1_1handle.html">tz::handle</a>&lt;shader_tag_t&gt;</td></tr>
<tr class="memdesc:ga411f2448d8c9380bac7e894918227f4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Corresponds to a previously-created shader program (for graphics or compute).  <br /></td></tr>
<tr class="separator:ga411f2448d8c9380bac7e894918227f4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4b6c0f0ef7f40dc3fc68b05192c3fda0" name="ga4b6c0f0ef7f40dc3fc68b05192c3fda0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4b6c0f0ef7f40dc3fc68b05192c3fda0">&#9670;&#160;</a></span>create_graphics_shader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::expected&lt; <a class="el" href="#ga411f2448d8c9380bac7e894918227f4f">shader_handle</a>, <a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> &gt; tz::gpu::create_graphics_shader </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>vertex_source</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>fragment_source</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new shader intended for graphics GPU work, comprised of a vertex and fragment shader. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vertex_source</td><td>Code for the vertex shader, in SPIRV. </td></tr>
    <tr><td class="paramname">fragment_source</td><td>Code for the fragment shader, in SPIRV. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success: A <a class="el" href="#ga411f2448d8c9380bac7e894918227f4f">shader_handle</a> corresponding to the newly-created shader program. </dd>
<dd>
<a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afab64777a1172ff4005ed6cde9b70d7ca3">tz::error_code::oom</a> If CPU memory is exhausted whilst trying to create the shader program. </dd>
<dd>
<a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa4207af5812019b2c0ff52b4ff4339d4b">tz::error_code::voom</a> If GPU memory is exhausted whilst trying to create the shader program. </dd>
<dd>
<a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa4e44c97a51e5519cd277f335de285ead">tz::error_code::unknown_error</a> If some other undocumented error occurs. </dd></dl>

</div>
</div>
<a id="ga658aea0467b28c7286a55be3350c0f34" name="ga658aea0467b28c7286a55be3350c0f34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga658aea0467b28c7286a55be3350c0f34">&#9670;&#160;</a></span>create_compute_shader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::expected&lt; <a class="el" href="#ga411f2448d8c9380bac7e894918227f4f">shader_handle</a>, <a class="el" href="group__tz__core.html#ga98b356a4a54e1f49c9b3adb6002fc1af">tz::error_code</a> &gt; tz::gpu::create_compute_shader </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>compute_source</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new shader intended for compute GPU work, comprised of a single compute shader. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">compute_source</td><td>Code for the compute shader, in SPIRV. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success: A <a class="el" href="#ga411f2448d8c9380bac7e894918227f4f">shader_handle</a> corresponding to the newly-created shader program. </dd>
<dd>
<a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afab64777a1172ff4005ed6cde9b70d7ca3">tz::error_code::oom</a> If CPU memory is exhausted whilst trying to create the shader program. </dd>
<dd>
<a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa4207af5812019b2c0ff52b4ff4339d4b">tz::error_code::voom</a> If GPU memory is exhausted whilst trying to create the shader program. </dd>
<dd>
<a class="el" href="group__tz__core.html#gga98b356a4a54e1f49c9b3adb6002fc1afa4e44c97a51e5519cd277f335de285ead">tz::error_code::unknown_error</a> If some other undocumented error occurs. </dd></dl>

</div>
</div>
<a id="gad197fec81d1aceaaba87a95e93c64882" name="gad197fec81d1aceaaba87a95e93c64882"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad197fec81d1aceaaba87a95e93c64882">&#9670;&#160;</a></span>destroy_shader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tz::gpu::destroy_shader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga411f2448d8c9380bac7e894918227f4f">shader_handle</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Manually destroy a previously-created shader. </p>
<p>If you are certain that you are done with a shader program, you can destroy it here, causing all of its memory to be available for reuse.</p>
<dl class="section note"><dt>Note</dt><dd>If you never destroy a shader manually, it will automatically be destroyed for you when you call <a class="el" href="group__tz.html#ga0a5d1e375e7e82fcd12a8b74b8012bae">tz::terminate</a>.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Be aware of GPU synchronisation! Ensure that you do not destroy a shader that is currently in-use by ongoing GPU work. Take care to ensure that renderers using the resource have finished their work before tearing it down. </dd></dl>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga6a0bf239902c687e57a586c673587b18" name="ga6a0bf239902c687e57a586c673587b18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6a0bf239902c687e57a586c673587b18">&#9670;&#160;</a></span>ImportedShaderHeader</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ImportedShaderHeader</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shader_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shader_type</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves a file path which is intended to be #included in a application's main source file. Once included, the imported shader's source code can be retrieved as a constexpr string_view via <a class="el" href="#ga565cc08094aefd52116978934a505025">ImportedShaderSource</a> </p>

</div>
</div>
<a id="ga565cc08094aefd52116978934a505025" name="ga565cc08094aefd52116978934a505025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga565cc08094aefd52116978934a505025">&#9670;&#160;</a></span>ImportedShaderSource</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ImportedShaderSource</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shader_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shader_type</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves a token representing a <code>std::string_view</code> which contains the shader's compiled results. On Vulkan, this will be SPIRV, and GLSL source code for OpenGL. You can only retrieve an imported shader's source if the imported header has been included via <a class="el" href="#ga6a0bf239902c687e57a586c673587b18">ImportedShaderHeader</a> </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga411f2448d8c9380bac7e894918227f4f" name="ga411f2448d8c9380bac7e894918227f4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga411f2448d8c9380bac7e894918227f4f">&#9670;&#160;</a></span>shader_handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#ga411f2448d8c9380bac7e894918227f4f">tz::gpu::shader_handle</a> = <a class="el" href="classtz_1_1handle.html">tz::handle</a>&lt;shader_tag_t&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Corresponds to a previously-created shader program (for graphics or compute). </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
